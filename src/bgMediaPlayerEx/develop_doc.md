# 媒体播放器开发记录 #

## 2017-09-27 ##
- 基于SDL2完成了一个最基本、最简单的视频播放器（未完成音频解码播放）
	- 了解了一个播放器播放视频的基本流程；
	- 初步了解了SDL2作为播放器时内部的一部分处理机制（不完全）；
- SDL2作为一个视频播放器，大概有下面几个调用流程
	- 初始化SDL环境```SDL_Init();```
	- 创建SDL播放器窗口，用于显示视频画面```SDL_CreateWindow();```或```SDL_CreateWindowFrom();```
		- ```SDL_CreateWindow();```用于创建一个基于命令行窗口的播放器窗口；
		- ```SDL_CreateWindowFrom();```用于创建一个嵌入到制定GUI界面元素中的播放器窗口；
	- 创建渲染器```SDL_CreateRenderer();```
	- 创建纹理```SDL_CreateTexture();```
	- 用新的像素数据更新给定的矩形区域```SDL_UpdateTexture（）；```
		- 在调用这个API之前，应该要用FFmpeg完成视频图像像素转换；
		- 第一个参数：texture - 要被更新的纹理区域
		- 第二个参数：rect - 纹理中需要更新的矩形像素区域，为NULL时则更新整个纹理区域
			- **当然，这里应该就是实现SDL2多屏播放的关键，纹理中的每一个矩形区域都应该是一个播放屏幕**
		- 第三个参数：pixels - 用于更新的原始像素数据
		- 第四个参数：pitch - 像素数据中每一行的字节数，包含用于填充的行
	- 清理当前渲染目标的绘图颜色```SDL_RenderClear()```
	- 将纹理的一部分复制到当前渲染目标```SDL_RenderCopy()```
		- 第一个参数：renderer - 渲染器中需要复制的纹理部分
		- 第二个参数：texture - 源纹理
		- 第三个参数：srcrect - 源矩形区域的指针，为NULL时表示整个纹理区域
		- 第四个参数：dstrect - 

## 2017-09-28 ##
- 开始重构第二个版本的播放器模块
	- 需求说明：
		- 播放器由两个大的模块组成：
			- 播放器容器：包含了播放器窗口、渲染器、纹理；
			- 播放器分屏：播放器容器内的子播放器，用于处理具体的媒体流（文件）；
		- 对于播放器容器：
			- 初始化时可以指定容器尺寸、播放器窗口模式（```Console``` 或者 ```内嵌到 GUI 界面```）；
			- 可以动态切换分屏数；
			- 可以对指定的分屏进行操作（包括且不限于 ```播放```、```暂停```、```停止``` ...）
		- 对于播放器分屏：
			- 对指定的媒体流（文件）进行基本信息查询与管理，播放时会使用到；
			- 对指定的媒体流（文件）进行操作（包括且不限于 ```播放```、```暂停```、```停止``` ...）
			- 可以对当前分屏进行播放尺寸的调整（包括且不限于 ```独占播放容器```、```全屏播放``` ...）
			- 集成解码器对视音频流（文件）进行解码播放；
	- 具体实现：
		- 媒体对象：
			- 用于抽象具体的视音频媒体文件
			- 填充媒体对象时即完成对媒体文件的基本解析
		- 